(this.webpackJsonpeasyreceipts=this.webpackJsonpeasyreceipts||[]).push([[0],[,,,,,,,,,,function(e,t,a){},function(e,t,a){e.exports=a(24)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(7),l=a.n(i),c=(a(16),a(6)),p=(a(17),a(18),a(19),a(5)),d=a(8),s=a(3),o=a(4),u=a(1),m=Object(o.a)("receiptPersistence"),y=function(){function e(t){var a=this;Object(p.a)(this,e),this.receipts={},Object.defineProperty(this,m,{writable:!0,value:void 0}),Object(s.a)(this,m)[m]=t,this.receipts=Object(s.a)(this,m)[m].fetchData(),Object(u.m)(this,{receipts:u.n}),Object(u.f)((function(){console.log("---------beginreceipts----");for(var e=0,t=Object.entries(a.receipts);e<t.length;e++){var r=Object(c.a)(t[e],2),n=(r[0],r[1]);console.log(Object.assign({},n))}console.log("--------------------------"),Object(s.a)(a,m)[m].saveWithDelay(a.receipts)}))}return Object(d.a)(e,[{key:"add",value:function(e){if(!e.id)throw new Error("You must pass receipt.id");if(this.findById(e.id))throw new Error("This id is already in use");this.receipts[e.id]=e}},{key:"update",value:function(e){if(!e.id)throw new Error("You must pass receipt.id");this.receipts[e.id]=e}},{key:"findById",value:function(e){return this.receipts[e]}},{key:"findAll",value:function(){return this.receipts}},{key:"removeById",value:function(e){delete this.receipts[e]}},{key:"removeAll",value:function(){throw new Error("Not implemented")}}]),e}(),h=Object(o.a)("payeePersistence"),f=function e(t){var a=this;Object(p.a)(this,e),this.payee={},Object.defineProperty(this,h,{writable:!0,value:void 0}),Object(s.a)(this,h)[h]=t,this.payee=Object(s.a)(this,h)[h].fetchData(),Object(u.m)(this,{payee:u.n}),Object(u.f)((function(){console.log("---------payeestore----"),console.log(Object.assign({},a.payee)),console.log("--------------------------"),Object(s.a)(a,h)[h].saveWithDelay(a.payee)}))},b=a(2),E=Object(b.a)((function(e){var t=e.payeeStore;return n.a.createElement("div",{className:"repeatable-fields-container no-printable"},n.a.createElement("div",{className:"repeatable-fields"},n.a.createElement("label",{htmlFor:"payee"},"Emitente"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payee",placeholder:"",id:"payee",value:t.payee.name,onChange:function(e){return t.payee.name=e.target.value}}),n.a.createElement("label",{htmlFor:"payeeCpfOrRg"},"CPF/RG"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payeeCpfOrRg",placeholder:"",id:"payeeCpfOrRg",value:t.payee.cpfOrRg,onChange:function(e){return t.payee.cpfOrRg=e.target.value}}),n.a.createElement("label",{htmlFor:"payeeAddress"},"Endere\xe7o"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payeeAddress",placeholder:"",id:"payeeAddress",value:t.payee.address,onChange:function(e){return t.payee.address=e.target.value}}),n.a.createElement("label",{htmlFor:"date"},"Data"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"date",placeholder:"",id:"date",value:t.payee.date,onChange:function(e){return t.payee.date=e.target.value}})))})),v=(a(21),Object(b.a)((function(e){return n.a.createElement("div",{className:"receipt-card-container"},n.a.createElement("div",{className:"receipt-card-header"},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"receiptNumber-"+e.index},"Numero"),n.a.createElement("input",{type:"text",name:"receiptNumber-"+e.index,placeholder:"",id:"receiptNumber-"+e.index})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"paidValue-"+e.index},"Valor"),n.a.createElement("input",{type:"text",name:"paidValue-"+e.index,placeholder:"",id:"paidValue-"+e.index,value:e.receipt.paidValue,onChange:function(t){return e.receipt.paidValue=t.target.value}}))),n.a.createElement("div",{className:"receipt-card-payer"},n.a.createElement("label",{htmlFor:"payer-"+e.index},"Recebi (emos) de"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payer-"+e.index,placeholder:"",id:"payer-"+e.index,value:e.receipt.payer,onChange:function(t){return e.receipt.payer=t.target.value}}),n.a.createElement("label",{htmlFor:"referrerTo-"+e.index},"Referente"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"referrerTo-"+e.index,placeholder:"",id:"referrerTo-"+e.index,value:e.receipt.referrerTo,onChange:function(t){return e.receipt.referrerTo=t.target.value}})),n.a.createElement("div",{className:"receipt-card-actions"},n.a.createElement("button",{className:"button no-printable"},"Imprimir"),n.a.createElement("a",{className:"button  no-printable",href:"#receipt/"+e.index},"Editar"),n.a.createElement("button",{className:"button no-printable",onClick:function(){return e.removeReceipt(e.index)}},"Remover")))}))),x=(a(22),Object(b.a)((function(e){var t=e.receiptStore,a=e.payeeStore,r=e.payerNameFiltering||"";function i(e){t.removeById(e)}return n.a.createElement("div",{className:"receipts-card"},n.a.createElement("div",{className:"receipts-card-container"},Object.keys(t.receipts).map((function(e){var l=t.receipts[e];if(l.payer.includes(r))return n.a.createElement(v,{key:e,index:e,payee:a.payee.name,payeeCpfOrRg:a.payee.cpfOrRg,payeeAddress:a.payee.address,date:a.payee.date,receipt:l,removeReceipt:i})}))))}))),g=(a(10),Object(b.a)((function(e){return n.a.createElement("div",{className:"receipt-container"},n.a.createElement("div",{className:"receipt-header"},n.a.createElement("span",null,"RECIBO"),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"receiptNumber-"+e.index},"Numero"),n.a.createElement("input",{type:"text",name:"receiptNumber-"+e.index,placeholder:"",id:"receiptNumber-"+e.index})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"paidValue-"+e.index},"Valor"),n.a.createElement("input",{type:"text",name:"paidValue-"+e.index,placeholder:"",id:"paidValue-"+e.index,value:e.receipt.paidValue,onChange:function(t){return e.receipt.paidValue=t.target.value}}))),n.a.createElement("div",{className:"receipt-payer"},n.a.createElement("label",{htmlFor:"payer-"+e.index},"Recebi (emos) de"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payer-"+e.index,placeholder:"",id:"payer-"+e.index,value:e.receipt.payer,onChange:function(t){return e.receipt.payer=t.target.value}}),n.a.createElement("label",{htmlFor:"payerAddress-"+e.index},"Endere\xe7o"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payerAddress-"+e.index,placeholder:"",id:"payerAddress-"+e.index,value:e.receipt.payerAddress,onChange:function(t){return e.receipt.payerAddress=t.target.value}}),n.a.createElement("label",{htmlFor:"paidValueAsText-"+e.index},"A import\xe2ncia de"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"paidValueAsText-"+e.index,placeholder:"",id:"paidValueAsText-"+e.index,value:e.receipt.paidValueAsText,onChange:function(t){return e.receipt.paidValueAsText=t.target.value}}),n.a.createElement("label",{htmlFor:"referrerTo-"+e.index},"Referente"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"referrerTo-"+e.index,placeholder:"",id:"referrerTo-"+e.index,value:e.receipt.referrerTo,onChange:function(t){return e.receipt.referrerTo=t.target.value}})),n.a.createElement("div",{className:"receipt-date"},n.a.createElement("label",{htmlFor:"date-"+e.index},"Data"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"date-"+e.index,placeholder:"",id:"date-"+e.index,value:e.date,readOnly:!0})),n.a.createElement("div",{className:"receipt-payee"},n.a.createElement("div",{className:"emitentCpf"},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"payee-"+e.index},"Emitente"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payee-"+e.index,placeholder:"",id:"payee-"+e.index,value:e.payee,readOnly:!0})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"payeeCpfOrRg-"+e.index},"CPF/RG"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payeeCpfOrRg-"+e.index,placeholder:"",id:"payeeCpfOrRg-"+e.index,value:e.payeeCpfOrRg,readOnly:!0}))),n.a.createElement("label",{htmlFor:"payeeAddress-"+e.index},"Endere\xe7o"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payeeAddress-"+e.index,placeholder:"",id:"payeeAddress-"+e.index,value:e.payeeAddress,readOnly:!0}),n.a.createElement("label",{htmlFor:"payeeSignature-"+e.index},"Assinatura"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payeeSignature-"+e.index,placeholder:"",id:"payeeSignature-"+e.index})))}))),O=Object(b.a)((function(e){return n.a.createElement("div",{className:"receipt-container"},n.a.createElement("div",{className:"receipt-header"},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"receiptNumber-"+e.index},"Numero"),n.a.createElement("input",{type:"text",name:"receiptNumber-"+e.index,placeholder:"",id:"receiptNumber-"+e.index})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"paidValue-"+e.index},"Valor"),n.a.createElement("input",{type:"text",name:"paidValue-"+e.index,placeholder:"",id:"paidValue-"+e.index,value:e.receipt.paidValue,onChange:function(t){return e.receipt.paidValue=t.target.value}}))),n.a.createElement("div",{className:"receipt-payer"},n.a.createElement("label",{htmlFor:"payer-"+e.index},"Recebi (emos) de"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payer-"+e.index,placeholder:"",id:"payer-"+e.index,value:e.receipt.payer,onChange:function(t){return e.receipt.payer=t.target.value}}),n.a.createElement("label",{htmlFor:"payerAddress-"+e.index},"Endere\xe7o"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"payerAddress-"+e.index,placeholder:"",id:"payerAddress-"+e.index,value:e.receipt.payerAddress,onChange:function(t){return e.receipt.payerAddress=t.target.value}}),n.a.createElement("label",{htmlFor:"paidValueAsText-"+e.index},"A import\xe2ncia de"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"paidValueAsText-"+e.index,placeholder:"",id:"paidValueAsText-"+e.index,value:e.receipt.paidValueAsText,onChange:function(t){return e.receipt.paidValueAsText=t.target.value}}),n.a.createElement("label",{htmlFor:"referrerTo-"+e.index},"Referente"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"referrerTo-"+e.index,placeholder:"",id:"referrerTo-"+e.index,value:e.receipt.referrerTo,onChange:function(t){return e.receipt.referrerTo=t.target.value}})),n.a.createElement("div",{className:"receipt-date"},n.a.createElement("label",{htmlFor:"date-"+e.index},"Data"),n.a.createElement("input",{className:"u-full-width",type:"text",name:"date-"+e.index,placeholder:"",id:"date-"+e.index,value:e.date,readOnly:!0})))})),N=(a(23),Object(b.a)((function(e){var t=e.receiptStore,a=e.payeeStore;return n.a.createElement("div",{className:"receipt-to-print-list"},n.a.createElement("button",{className:"button-primary no-printable",onClick:window.print},"Imprimir"),n.a.createElement("div",{className:""},n.a.createElement("h2",null,"Canhotos"),Object.keys(t.receipts).map((function(e){return n.a.createElement("div",{key:e},n.a.createElement(O,{key:e,index:e,payee:a.payee.name,payeeCpfOrRg:a.payee.cpfOrRg,payeeAddress:a.payee.address,date:a.payee.date,receipt:t.receipts[e]}))})),n.a.createElement("h2",null,"Recibos"),Object.keys(t.receipts).map((function(e){return n.a.createElement("div",{key:e},n.a.createElement(g,{key:e,index:e,payee:a.payee.name,payeeCpfOrRg:a.payee.cpfOrRg,payeeAddress:a.payee.address,date:a.payee.date,receipt:t.receipts[e]}))}))))}))),w=Object(o.a)("key"),j=Object(o.a)("lastChangeInMs"),A=function(){function e(t){Object(p.a)(this,e),Object.defineProperty(this,w,{writable:!0,value:void 0}),Object.defineProperty(this,j,{writable:!0,value:Date.now()}),Object(s.a)(this,w)[w]=t}return Object(d.a)(e,[{key:"fetchData",value:function(){return JSON.parse(localStorage.getItem(Object(s.a)(this,w)[w]))}},{key:"saveWithDelay",value:function(e){Date.now()-Object(s.a)(this,j)[j]<1e3&&(this.timerToPersist&&clearTimeout(this.timerToPersist),console.log("limpou timer")),Object(s.a)(this,j)[j]=Date.now();var t=Object(s.a)(this,w)[w];this.timerToPersist=setTimeout((function(){localStorage.setItem(t,JSON.stringify(e)),console.log("".concat(t," Saved on LocalStorage!"))}),1e3)}}]),e}();function C(){var e=window.location.hash.substr(1).split("/");return{first:e[0]||"",second:e[1]||""}}var R=Object(b.a)((function(){var e=Object(r.useState)(C().first),t=Object(c.a)(e,2),a=t[0],i=t[1],l=Object(r.useState)(C().second),p=Object(c.a)(l,2),d=p[0],s=p[1];window.onhashchange=function(){i(C().first),s(C().second)};var o=new A("receiptStore"),u=new y(o),m=new A("payeeStore"),h=new f(m),b=Object(r.useState)(""),v=Object(c.a)(b,2),O=v[0],w=v[1];return n.a.createElement("div",{className:"rootApp"},n.a.createElement("header",{className:"top-app-bar"},n.a.createElement("div",{className:"top-app-bar__left-part"},"Recibos Facil"),n.a.createElement("div",{className:"top-app-bar__right-part"},n.a.createElement("input",{className:"u-full-width",type:"text",name:"search",placeholder:"Pesquise por nome",id:"search",value:O,onChange:function(e){return w(e.target.value)}}))),n.a.createElement("main",null,function(){if(!a||"receipt-list"==a)return n.a.createElement(x,{payerNameFiltering:O,receiptStore:u,payeeStore:h});if("payee-form"==a)return n.a.createElement(E,{payeeStore:h});if("receipt"==a&&d){var e=u.receipts[d];return n.a.createElement(g,{key:e.id,index:e.id,payee:h.payee.name,payeeCpfOrRg:h.payee.cpfOrRg,payeeAddress:h.payee.address,date:h.payee.date,receipt:e})}if("receipt"==a){var t=Date.now();u.add({id:t,paidValue:"",payer:"",payerAddress:"",referrerTo:""});var r=u.receipts[t];return n.a.createElement(g,{key:r.id,index:r.id,payee:h.payee.name,payeeCpfOrRg:h.payee.cpfOrRg,payeeAddress:h.payee.address,date:h.payee.date,receipt:r})}return"receipts-to-print"==a?n.a.createElement(N,{receiptStore:u,payeeStore:h}):"NOTFOUND"}()),n.a.createElement("footer",{className:"bottom-app-bar"},n.a.createElement("a",{className:"button  no-printable",href:"#receipt-list"},"Recibos"),n.a.createElement("a",{className:"button  no-printable",href:"#receipts-to-print"},"Imprimir"),n.a.createElement("a",{className:"button  no-printable",href:"#receipt"},"Novo recibo"),n.a.createElement("a",{className:"button  no-printable",href:"#payee-form"},"Meus Dados")))}));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(R,null)),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.1b13bf31.chunk.js.map